---
# ========================================
# Yamisskey Provision - Vault Variables
# ========================================
# このファイルを vault.yml にコピーして本番環境の値に変更後、暗号化してください:
# ansible-vault encrypt group_vars/vault.yml

# ========================================
# Cloudflare Configuration (必須)
# ========================================
# Cloudflare API Token (DNS management + Zone edit permissions)
vault_cloudflare_api_token: "your-cloudflare-api-token-here"

# Cloudflare Zone ID for your domain
vault_cloudflare_zone_id: "your-cloudflare-zone-id-here"

# Cloudflare Account ID
vault_cloudflare_account_id: "your-cloudflare-account-id-here"

# Alternative: Global API Key (not recommended, use API token instead)
# vault_cloudflare_email: "your-email@example.com"
# vault_cloudflare_global_api_key: "your-global-api-key-here"

# ========================================
# Cloudflare Tunnel Configuration (必須)
# ========================================
# Tunnel IDs and Tokens for each server
vault_balthasar_tunnel_id: "your-balthasar-tunnel-id-here"
vault_balthasar_tunnel_token: "your-balthasar-tunnel-token-here"

vault_caspar_tunnel_id: "your-caspar-tunnel-id-here"
vault_caspar_tunnel_token: "your-caspar-tunnel-token-here"

vault_truenas_tunnel_id: "your-truenas-tunnel-id-here"
vault_truenas_tunnel_token: "your-truenas-tunnel-token-here"

# Tunnel credentials.json content (base64 encoded or JSON string)
vault_truenas_tunnel_credentials: |
  {
    "AccountTag": "your-account-id",
    "TunnelSecret": "your-tunnel-secret",
    "TunnelID": "your-tunnel-id"
  }

# ========================================
# Network Configuration (必須)
# ========================================
# External IP addresses
vault_balthasar_external_ip: "203.0.113.10"
vault_caspar_external_ip: "203.0.113.20"
vault_linode_proxy_external_ip: "45.79.XXX.XXX"

# ========================================
# WARP/Proxy Configuration (必須)
# ========================================
# Cloudflare for Teams configuration
vault_warp_team_name: "your-team-name"
vault_balthasar_warp_device_id: "your-balthasar-warp-device-id"
vault_caspar_warp_device_id: "your-caspar-warp-device-id"

# Squid upstream proxy (optional)
vault_squid_upstream_proxy: ""

# ========================================
# Game Services Configuration
# ========================================
# playit.gg secret for Raspberry Pi
vault_playit_secret: "your-playit-secret-here"

# ========================================
# Server Authentication (必須)
# ========================================
# Sudo passwords for each server
vault_balthasar_sudo_password: "your-balthasar-sudo-password"
vault_caspar_sudo_password: "your-caspar-sudo-password"
vault_linode_proxy_sudo_password: "your-linode-proxy-sudo-password"
vault_raspberry_sudo_password: "your-raspberry-sudo-password"

# ========================================
# TrueNAS Configuration (必須)
# ========================================
# TrueNAS API Key (generate from TrueNAS web interface)
vault_truenas_api_key: "your-truenas-api-key-here"

# ========================================
# MinIO Configuration (必須)
# ========================================
# MinIO Root Credentials
vault_minio_root_user: "your-minio-admin-user"
vault_minio_root_password: "your-secure-minio-password"

# MinIO KMS Secret Key for server-side encryption
vault_minio_kms_secret_key: "your-32-character-kms-key-here!!"

# MinIO Client (mc) Release SHA256 for security verification
mc_release_sha256: "actual-sha256-hash-of-mc-binary-for-verification"

# ========================================
# Application Secrets
# ========================================
# Misskey Configuration
vault_misskey_db_password: "your-misskey-db-password"
vault_misskey_redis_password: "your-misskey-redis-password"
vault_misskey_secret_key: "your-misskey-secret-key"

# Database Passwords
vault_postgres_password: "your-postgres-admin-password"
vault_redis_password: "your-redis-auth-password"

# ========================================
# Security Services
# ========================================
# CrowdSec API Keys
vault_crowdsec_api_key: "your-crowdsec-api-key"
vault_crowdsec_machine_id: "your-crowdsec-machine-id"

# Fail2ban notification settings
vault_fail2ban_sender_email: "alerts@yourdomain.com"
vault_fail2ban_dest_email: "admin@yourdomain.com"
vault_fail2ban_smtp_password: "your-smtp-password"

# ========================================
# Monitoring & Alerting
# ========================================
# Prometheus/Grafana Admin Passwords
vault_grafana_admin_password: "your-grafana-admin-password"
vault_prometheus_admin_password: "your-prometheus-admin-password"

# AlertManager Configuration
vault_alertmanager_slack_api_url: "https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK"
vault_alertmanager_smtp_password: "your-alerting-smtp-password"

# Uptime Kuma
vault_uptime_kuma_admin_password: "your-uptime-kuma-password"

# ========================================
# Backup Configuration
# ========================================
# R2 (Cloudflare R2) for database backups
vault_r2_access_key_id: "your-r2-access-key"
vault_r2_secret_access_key: "your-r2-secret-key"
vault_r2_bucket_name: "your-backup-bucket"
vault_r2_endpoint: "your-account-id.r2.cloudflarestorage.com"

# Filen.io for encrypted backups (alternative)
vault_filen_api_key: "your-filen-api-key"
vault_filen_encryption_key: "your-filen-encryption-key"

# Age encryption keys for backup encryption
vault_age_public_key: "age1..."  # Public key for encrypting backups
vault_age_private_key: "AGE_SECRET_KEY_EXAMPLE"  # Placeholder; do NOT commit real AGE private keys

# ========================================
# Emergency Recovery Kit
# ========================================
# Emergency access credentials (store separately!)
vault_emergency_ssh_key: |
  -----BEGIN OPENSSH PRIVATE KEY-----
  your-emergency-ssh-private-key-here
  -----END OPENSSH PRIVATE KEY-----

vault_emergency_recovery_password: "ultra-secure-emergency-password"

# Recovery contact information
vault_emergency_contact_email: "emergency@yourdomain.com"
vault_emergency_contact_phone: "+81-90-XXXX-XXXX"

# ========================================
# External Service Integration
# ========================================
# GitHub for repository management
vault_github_token: "ghp_your-github-personal-access-token"
vault_github_webhook_secret: "your-github-webhook-secret"

# Docker Registry (if using private registry)
vault_docker_registry_user: "your-docker-registry-user"
vault_docker_registry_password: "your-docker-registry-password"

# ========================================
# SSL/TLS Configuration
# ========================================
# Custom SSL certificates (if not using Let's Encrypt)
vault_ssl_private_key: |
  -----BEGIN PRIVATE KEY-----
  your-ssl-private-key-here
  -----END PRIVATE KEY-----

vault_ssl_certificate: |
  -----BEGIN CERTIFICATE-----
  your-ssl-certificate-here
  -----END CERTIFICATE-----

# ========================================
# Security Notice
# ========================================
# IMPORTANT: After creating vault.yml with real values:
# 1. ansible-vault encrypt group_vars/vault.yml
# 2. Store the vault password in a secure password manager
# 3. Never commit the unencrypted vault.yml to version control
# 4. Consider using ansible-vault rekey to rotate vault passwords
# 5. Test decryption: ansible-vault decrypt group_vars/vault.yml --output=-
