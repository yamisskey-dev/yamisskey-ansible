---
# Migration Validator Role - Default Variables
# Validation parameters and thresholds

# Validation phases: pre_migration, post_migration, all
validation_phase: pre_migration

# Migration operation mode: validate, migrate, rollback
migration_operation: validate

# Host configuration
source_minio_host: "{{ migrate_source | default('source') }}"
target_minio_host: "{{ migrate_target | default('destination') }}"

# MinIO configuration
minio_bucket_name_for_misskey: files
minio_bucket_name_for_outline: assets
minio_default_port: 9000
minio_console_port: 9001

# Validation thresholds
min_disk_space_gb: 10
max_disk_usage_percent: 85
connectivity_timeout_seconds: 10
service_check_retries: 3
service_check_delay: 5

# Validation toggles
validate_parameters: true
validate_connectivity: true
validate_services: true
validate_capacity: true
validate_integrity: true
validate_readiness: true

# Report generation
generate_validation_report: true
report_format: markdown
report_detailed: true
save_report_to_file: true

# SSH configuration
ssh_connect_timeout: 5
ssh_strict_host_key_checking: false

# Migration safety checks
require_confirmation: true
backup_before_migration: true
verify_after_migration: true

# Error handling
fail_on_validation_error: true
continue_on_warning: true
max_validation_errors: 5

# Expected buckets for validation
expected_buckets:
  - "{{ minio_bucket_name_for_misskey }}"
  - "{{ minio_bucket_name_for_outline }}"

# Critical services to validate
critical_services:
  - minio
  - docker

# Network validation
network_check_ports:
  - "{{ minio_default_port }}"
  - "{{ minio_console_port }}"
  - 22  # SSH

# Validation categories with weights (for scoring)
validation_categories:
  parameters:
    weight: 20
    critical: true
  connectivity:
    weight: 25
    critical: true
  services:
    weight: 20
    critical: true
  capacity:
    weight: 15
    critical: false
  integrity:
    weight: 10
    critical: false
  readiness:
    weight: 10
    critical: false