---
- name: Display Cloudflare package status
  debug:
    msg: |
      âœ… Cloudflare packages managed via system packages
      ğŸ“¦ Available tools: cloudflared, tailscale
      â˜ï¸ Ready for Cloudflare operations!

- name: Verify Cloudflared is available
  command: cloudflared --version
  register: cloudflared_version_check
  failed_when: false
  changed_when: false

- name: Display Cloudflared version
  debug:
    msg: "Cloudflared version: {{ cloudflared_version_check.stdout }}"
  when: cloudflared_version_check.rc == 0

- name: Verify Tailscale is available
  command: tailscale version
  register: tailscale_version_check
  failed_when: false
  changed_when: false

- name: Display Tailscale version
  debug:
    msg: "Tailscale version: {{ tailscale_version_check.stdout }}"
  when: tailscale_version_check.rc == 0
