---
# ========================================
# Yamisskey Monitoring Role - Default Configuration
# ========================================

# --- Core Monitoring Settings ---
monitoring_scrape_interval: "15s"
monitoring_evaluation_interval: "15s"
monitoring_region: "ap-northeast-1"

# --- Alert Manager Configuration ---
alertmanager_enabled: true
monitoring_alertmanager_host: "localhost"
monitoring_alertmanager_port: "9093"

# --- Rule Files Configuration ---
monitoring_rules_enabled: true

# --- Scrape Interval Configuration ---
monitoring_node_scrape_interval: "30s"
monitoring_social_scrape_interval: "30s"
monitoring_proxy_scrape_interval: "60s"
monitoring_storage_scrape_interval: "60s"
monitoring_cadvisor_scrape_interval: "30s"
monitoring_cloudflared_scrape_interval: "60s"
monitoring_minio_scrape_interval: "30s"
monitoring_modsecurity_scrape_interval: "60s"

# --- ModSecurity Monitoring ---
modsecurity_monitoring_enabled: false

# --- External Endpoint Monitoring ---
monitoring_external_endpoints: []
# Example:
# monitoring_external_endpoints:
#   - "https://example.com"
#   - "https://api.example.com/health"

# --- Custom Monitoring Jobs ---
custom_monitoring_jobs: []
# Example:
# custom_monitoring_jobs:
#   - name: "custom-service"
#     scrape_interval: "30s"
#     metrics_path: "/metrics"
#     targets:
#       - "localhost:8080"
#     labels:
#       service: "custom"
#       environment: "production"

# --- Performance and Optimization ---
monitoring_metric_retention_days: 15
monitoring_high_cardinality_metrics_enabled: false

# --- Service Discovery Settings ---
monitoring_auto_discovery_enabled: true
monitoring_service_discovery_refresh: "30s"

# --- Host Service Port Mappings ---
# These should match the host_services variables from inventory
default_host_services:
  joseph:
    node_exporter: 9100
    cadvisor: 8085
  balthasar:
    node_exporter: 9100
    cadvisor: 8085
    cloudflared_metrics: 49312
  caspar:
    node_exporter: 9100
    cadvisor: 8085
    prometheus: 9090
    grafana: 3000
    blackbox_exporter: 9115
    alertmanager: 9093
    cloudflared_metrics: 49312

# --- Security and Access ---
monitoring_secure_metrics: true
monitoring_basic_auth_enabled: false
monitoring_tls_enabled: false

# --- Health Check Configuration ---
monitoring_health_check_enabled: true
monitoring_health_check_interval: "60s"
monitoring_health_check_timeout: "10s"

# --- Backup and Retention ---
monitoring_data_backup_enabled: false
monitoring_config_backup_enabled: true

# --- Integration Settings ---
grafana_integration_enabled: true
grafana_datasource_auto_config: true

# --- Logging Configuration ---
monitoring_log_level: "info"
monitoring_debug_enabled: false

# --- Resource Limits ---
monitoring_memory_limit: "2G"
monitoring_cpu_limit: "1.0"

# --- High Availability ---
monitoring_ha_enabled: false
monitoring_cluster_mode: false