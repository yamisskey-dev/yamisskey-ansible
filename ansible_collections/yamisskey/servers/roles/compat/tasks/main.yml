---
- name: Check if docker-compose command exists
  command: which docker-compose
  register: docker_compose_check
  failed_when: false
  changed_when: false

- name: Set Docker Compose command based on availability
  set_fact:
    docker_compose_cmd: "{% if docker_compose_check.rc == 0 %}docker-compose{% else %}docker compose{% endif %}"

- name: Debug Docker Compose command
  debug:
    msg: "Using Docker Compose command: {{ docker_compose_cmd }}"
