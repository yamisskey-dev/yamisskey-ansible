---
# ModSecurity NGINX configuration
modsecurity_nginx_name: "modsecurity-nginx"
modsecurity_nginx_image: "owasp/modsecurity-nginx"
modsecurity_nginx_tag: "latest"

# Directory configuration
modsecurity_config_dir: "/etc/modsecurity-nginx"
modsecurity_rules_dir: "/etc/modsecurity-nginx/rules"
modsecurity_conf_dir: "/etc/modsecurity-nginx/conf.d"
modsecurity_lists_dir: "/etc/modsecurity-nginx/lists"

# Security lists (empty by default)
modsecurity_blocked_ips: []
modsecurity_allowed_ips: []
modsecurity_maintenance_allowed_ips: []
modsecurity_blocked_user_agents: []

# Maintenance mode configuration
modsecurity_maintenance_mode: false

# Rate limiting configuration
modsecurity_rate_limit_requests_per_minute: 100
modsecurity_rate_limit_requests_per_second: 10

# Misskey-specific exclusions
modsecurity_misskey_exclusions_enabled: true

# Request body limits
modsecurity_enforce_body_limit: true
modsecurity_max_request_size: "10M"

# Log configuration
modsecurity_log_dir: "/var/log/nginx"
modsecurity_log_level: "warn"

# Service configuration
modsecurity_enabled: true
modsecurity_detection_only: false

# Rate limiting
modsecurity_rate_limit_enabled: true
modsecurity_rate_limit_burst: 100
modsecurity_rate_limit_rate: "10r/s"

# SSL/TLS configuration
modsecurity_ssl_enabled: true
modsecurity_ssl_protocols: "TLSv1.2 TLSv1.3"

# Docker network configuration
modsecurity_network_name: "modsecurity"
modsecurity_port_http: 80
modsecurity_port_https: 443

# Individual service configurations
modsecurity_services:
  - "00-shared"
  - "misskey"
  - "synapse"
  - "element"
  - "jitsi"
  - "ctfd"
  - "grafana"
  - "minio"
  - "vikunja"
  - "cryptpad"
  - "zitadel"
  - "searxng"
  - "outline"
  - "uptime"
  - "mcaptcha"
  - "neo_quesdon"
  - "lemmy"

# Monitoring configuration
modsecurity_monitoring_enabled: true
modsecurity_monitoring_script: "/etc/modsecurity-nginx/monitor-modsecurity.sh"

# Log rotation
modsecurity_logrotate_days: 30
modsecurity_logrotate_compress: true
