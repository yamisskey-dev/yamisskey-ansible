---
# Example playbooks demonstrating flexible package management

# Example 1: Development Environment Setup
- name: Setup Development Environment
  hosts: dev_servers
  vars:
    packages_profile: "development"
    packages_extra:
      - vim
      - nano
      - tree
      - htop
  roles:
    - yamisskey.servers.packages
    - yamisskey.servers.common
    - yamisskey.servers.ghq
  tags:
    - development
    - tools

# Example 2: Production Server Setup
- name: Setup Production Server
  hosts: prod_servers
  vars:
    packages_profile: "server"
  roles:
    - yamisskey.servers.packages
    - yamisskey.servers.common
    - yamisskey.servers.security
    - yamisskey.servers.monitor
    - yamisskey.servers.system_init
  tags:
    - security
    - monitoring
    - infrastructure

# Example 3: AI/ML Server Setup
- name: Setup AI/ML Server
  hosts: ai_servers
  vars:
    packages_profile: "ai-server"
    packages_extra:
      - nvidia-cuda-toolkit
      - python3-torch
  roles:
    - yamisskey.servers.packages
    - yamisskey.servers.ai
    - yamisskey.servers.common
  tags:
    - ai
    - development

# Example 4: Web Application Stack
- name: Setup Web Application Stack
  hosts: web_servers
  roles:
    - yamisskey.servers.packages
    - yamisskey.servers.nginx
    - yamisskey.servers.postgresql
    - yamisskey.servers.redis
    - yamisskey.servers.misskey
  tags:
    - web
    - database

# Example 5: Monitoring Stack
- name: Setup Monitoring Stack
  hosts: monitor_servers
  roles:
    - yamisskey.servers.packages
    - yamisskey.servers.prometheus
    - yamisskey.servers.grafana
    - yamisskey.servers.watch
  tags:
    - monitoring

# Example 6: Database Cluster
- name: Setup Database Cluster
  hosts: db_servers
  roles:
    - yamisskey.servers.packages
    - yamisskey.servers.postgresql
    - yamisskey.servers.redis
    - yamisskey.servers.backup
  tags:
    - database
    - backup

# Example 7: Security Hardened Server
- name: Setup Security Hardened Server
  hosts: secure_servers
  roles:
    - yamisskey.servers.packages
    - yamisskey.servers.security
    - yamisskey.servers.common
  tags:
    - security

# Example 8: Custom Package Selection
- name: Custom Package Selection
  hosts: custom_servers
  vars:
    packages_extra:
      - custom-package-1
      - custom-package-2
      - specific-tool
  roles:
    - yamisskey.servers.packages
    - yamisskey.servers.common
  tags:
    - custom
