---
# Monitoring service configuration
monitoring_network_name: "monitoring"

# Node Exporter configuration
node_exporter_port: 9100
node_exporter_service: "prometheus-node-exporter"

# Prometheus configuration
prometheus_port: 9090
prometheus_service: "prometheus"
prometheus_config_file: "/etc/prometheus/prometheus.yml"
prometheus_user: "prometheus"
prometheus_group: "prometheus"

# cAdvisor configuration
cadvisor_port: 8085
cadvisor_container_name: "cadvisor"
cadvisor_image: "gcr.io/cadvisor/cadvisor:v0.49.1"

# Blackbox Exporter configuration
blackbox_exporter_port: 9115
blackbox_exporter_container_name: "blackbox_exporter"
blackbox_exporter_image: "quay.io/prometheus/blackbox-exporter:latest"
blackbox_config_dir: "/etc/blackbox_exporter"

# Grafana configuration
grafana_port: 3000
grafana_service: "grafana-server"
grafana_apt_key_url: "https://apt.grafana.com/gpg.key"
grafana_apt_repo: "deb [signed-by=/etc/apt/keyrings/grafana.gpg] https://apt.grafana.com stable main"

# Default service ports with dynamic host support
default_monitoring_ports:
  node_exporter: 9100
  cadvisor: 8085
  blackbox_exporter: 9115
  grafana: 3000
  prometheus: 9090

# Host services with fallback to defaults for dynamic inventory support
monitoring_services:
  node_exporter: "{{ host_services[inventory_hostname].node_exporter | default(default_monitoring_ports.node_exporter) }}"
  cadvisor: "{{ host_services[inventory_hostname].cadvisor | default(default_monitoring_ports.cadvisor) }}"
  blackbox_exporter: "{{ host_services[inventory_hostname].blackbox_exporter | default(default_monitoring_ports.blackbox_exporter) }}"
  grafana: "{{ host_services[inventory_hostname].grafana | default(default_monitoring_ports.grafana) }}"
  prometheus: "{{ host_services[inventory_hostname].prometheus | default(default_monitoring_ports.prometheus) }}"

# Service health check configuration
health_check_timeout: 30
health_check_retries: 3

# Prerequisites packages
monitoring_prerequisites:
  - apt-transport-https
  - software-properties-common
  - wget